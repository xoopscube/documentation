
The Module System serves as the primary method for extending XOOPSCube's functionality. Modules are self-contained packages that can add specific features like user management, messaging, or content management. Each module exists as a separate directory within the `modules/` folder and follows a specific structure that allows XCL to recognize and install it into the platform.

## Core Modules

XCL package comes with several core modules that provide essential functionality.
The essential functions for configuring and managing your Web Application are organized into eight required modules: Components, System, Render, User Groups, Profile, Cache, Message, and Protector.



<div class="panzoom-schema">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="xcl-module-role" width="100%" aria-roledescription="flowchart-v2" class="xcl-diagram flowchart" style="max-width:400px" viewBox="0 0 1413.875 352"><marker id="xcl-module-role_flowchart-v2-pointEnd" class="marker flowchart-v2" markerHeight="8" markerUnits="userSpaceOnUse" markerWidth="8" orient="auto" refX="5" refY="5" viewBox="0 0 10 10"><path stroke-dasharray="1 0" d="m0 0 10 5-10 5z" class="arrowMarkerPath"/></marker><marker id="xcl-module-role_flowchart-v2-pointStart" class="marker flowchart-v2" markerHeight="8" markerUnits="userSpaceOnUse" markerWidth="8" orient="auto" refX="4.5" refY="5" viewBox="0 0 10 10"><path stroke-dasharray="1 0" d="m0 5 10 5V0z" class="arrowMarkerPath"/></marker><marker id="xcl-module-role_flowchart-v2-circleEnd" class="marker flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="11" refY="5" viewBox="0 0 10 10"><circle cx="5" cy="5" r="5" stroke-dasharray="1 0" class="arrowMarkerPath"/></marker><marker id="xcl-module-role_flowchart-v2-circleStart" class="marker flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="-1" refY="5" viewBox="0 0 10 10"><circle cx="5" cy="5" r="5" stroke-dasharray="1 0" class="arrowMarkerPath"/></marker><marker id="xcl-module-role_flowchart-v2-crossEnd" class="marker cross flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="12" refY="5.2" viewBox="0 0 11 11"><use xlink:href="#reuse-0" stroke-dasharray="1 0" stroke-width="2" class="arrowMarkerPath"/></marker><marker id="xcl-module-role_flowchart-v2-crossStart" class="marker cross flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="-1" refY="5.2" viewBox="0 0 11 11"><use xlink:href="#reuse-0" stroke-dasharray="1 0" stroke-width="2" class="arrowMarkerPath"/></marker><g class="root"><g class="clusters"><g id="subGraph0" class="cluster" data-look="classic" style="fill:#121727!important;stroke:#5c6bc0!important"><path d="M49.6 112h1356.275v128H49.6z"/><foreignObject width="96.363" height="24" class="cluster-label" transform="translate(679.556 112)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel" style="color:#fff"><p style="background-color:transparent">Module Roles</p></span></div></foreignObject></g></g><g class="edgePaths"><path id="L_Core_System_0" marker-end="url(#xcl-module-role_flowchart-v2-pointEnd)" d="m681.1 45.062-64.314 6.99c-64.313 6.99-192.94 20.969-257.254 32.125-64.313 11.156-64.313 19.49-64.313 27.156V133" class="edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_Core_Content_0" marker-end="url(#xcl-module-role_flowchart-v2-pointEnd)" d="m681.1 57.11-20.86 4.982c-20.861 4.982-62.582 14.945-83.442 24.093s-20.86 17.482-20.86 25.148V133" class="edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_Core_Utility_0" marker-end="url(#xcl-module-role_flowchart-v2-pointEnd)" d="M773.688 62v71" class="edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_Core_Communication_0" marker-end="url(#xcl-module-role_flowchart-v2-pointEnd)" d="m866.275 54.612 25.484 5.398c25.485 5.398 76.454 16.194 101.938 25.759 25.484 9.564 25.484 17.898 25.484 25.564V133" class="edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_Core_Extension_0" marker-end="url(#xcl-module-role_flowchart-v2-pointEnd)" d="m866.275 44.551 68.581 7.075c68.582 7.075 205.744 21.224 274.325 32.466 68.582 11.241 68.582 19.575 68.582 27.241V133" class="edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_System_Legacy_0" marker-end="url(#xcl-module-role_flowchart-v2-pointEnd)" d="m210.725 202.299-20.188 6.284c-20.187 6.283-60.562 18.85-80.75 29.3C89.6 248.333 89.6 256.667 89.6 264.333V286" class="edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_System_User_0" marker-end="url(#xcl-module-role_flowchart-v2-pointEnd)" d="M295.219 215v71" class="edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_System_LegacyRender_0" marker-end="url(#xcl-module-role_flowchart-v2-pointEnd)" d="m379.713 199.455 24.343 6.757c24.344 6.758 73.032 20.273 97.375 31.197s24.344 19.258 24.344 26.924V286" class="edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_Communication_Message_0" marker-end="url(#xcl-module-role_flowchart-v2-pointEnd)" d="M1019.181 215v71" class="edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_Utility_Cache_0" marker-end="url(#xcl-module-role_flowchart-v2-pointEnd)" d="M773.688 215v71" class="edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_Extension_Protector_0" marker-end="url(#xcl-module-role_flowchart-v2-pointEnd)" d="M1277.763 215v71" class="edge-thickness-normal edge-pattern-solid flowchart-link"/></g><g class="edgeLabels"><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g></g><g class="nodes"><g id="flowchart-System-0" class="node default"><path d="M210.725 137h168.988v78H210.725z" class="basic label-container"/><g class="label" transform="translate(240.725 152)"><rect/><foreignObject width="108.988" height="48"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>System Module<br/>(role: system)</p></span></div></foreignObject></g></g><g id="flowchart-Content-1" class="node default"><path d="M468.213 137h175.45v78h-175.45z" class="basic label-container"/><g class="label" transform="translate(498.212 152)"><rect/><foreignObject width="115.45" height="48"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Content Module<br/>(role: content)</p></span></div></foreignObject></g></g><g id="flowchart-Utility-2" class="node default"><path d="M693.663 137h160.05v78h-160.05z" class="basic label-container"/><g class="label" transform="translate(723.662 152)"><rect/><foreignObject width="100.05" height="48"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Utility Module<br/>(role: utility)</p></span></div></foreignObject></g></g><g id="flowchart-Communication-3" class="node default"><path d="M903.712 137h230.938v78H903.712z" class="basic label-container"/><g class="label" transform="translate(933.713 152)"><rect/><foreignObject width="170.938" height="48"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Communication Module<br/>(role: communication)</p></span></div></foreignObject></g></g><g id="flowchart-Extension-4" class="node default"><path d="M1184.651 137h186.225v78h-186.225z" class="basic label-container"/><g class="label" transform="translate(1214.65 152)"><rect/><foreignObject width="126.225" height="48"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Extension Module<br/>(role: extension)</p></span></div></foreignObject></g></g><g id="flowchart-Core-5" class="node default"><path d="M681.1 8h185.175v54H681.1z" class="basic label-container"/><g class="label" transform="translate(711.1 23)"><rect/><foreignObject width="135" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>XOOPSCube Core</p></span></div></foreignObject></g></g><g id="flowchart-Legacy-16" class="node default"><path d="M8 290h163.2v54H8z" class="basic label-container"/><g class="label" transform="translate(38 305)"><rect/><foreignObject width="103.2" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>legacy module</p></span></div></foreignObject></g></g><g id="flowchart-User-18" class="node default"><path d="M221.2 290h148.037v54H221.2z" class="basic label-container"/><g class="label" transform="translate(251.2 305)"><rect/><foreignObject width="88.037" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>user module</p></span></div></foreignObject></g></g><g id="flowchart-LegacyRender-20" class="node default"><path d="M419.238 290h213.075v54H419.238z" class="basic label-container"/><g class="label" transform="translate(449.238 305)"><rect/><foreignObject width="153.075" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>legacyRender module</p></span></div></foreignObject></g></g><g id="flowchart-Message-22" class="node default"><path d="M929.218 290h179.925v54H929.218z" class="basic label-container"/><g class="label" transform="translate(959.219 305)"><rect/><foreignObject width="119.925" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>message module</p></span></div></foreignObject></g></g><g id="flowchart-Cache-24" class="node default"><path d="M682.313 290h182.75v54h-182.75z" class="basic label-container"/><g class="label" transform="translate(712.313 305)"><rect/><foreignObject width="122.75" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>stdCache module</p></span></div></foreignObject></g></g><g id="flowchart-Protector-26" class="node default"><path d="M1185.688 290h184.15v54h-184.15z" class="basic label-container"/><g class="label" transform="translate(1215.688 305)"><rect/><foreignObject width="124.15" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>protector module</p></span></div></foreignObject></g></g></g></g></svg>
</div>


Modules can have different roles in the system, defined by the role property in their manifest. 


### Required Modules

<div class="table-wrapper">
<table>
<thead><tr><th>Module</th><th>Purpose</th><th>Features</th></tr></thead>
<tbody>
<tr><td>altsys</td><td>Components</td><td>D3 duplicatable, blocks, locales, templates</td><tr>
<tr><td>legacy</td><td>System management</td><td>Core administration, preferences, blocks</td></tr>
<tr><td>user</td><td>User management</td><td>Registration, profiles, authentication</td></tr>
<tr><td>profile</td><td>User management</td><td>Customize user profiles, no-code</td></tr>
<tr><td>legacyRender</td><td>Template rendering</td><td>Layout, themes, meta information</td></tr>
<tr><td>stdCache</td><td>Cache management</td><td>Performance optimization</td></tr>
<tr><td>message</td><td>Messaging</td><td>Private messages, notifications</td></tr>
<tr><td>protector</td><td>Security</td><td>Protection against attacks, filtering</td></tr>
</tbody>
</table>
</div>



<span class="iconify" data-icon="mdi:github"></span> Source: 
<code><a href="https://github.com/xoopscube/legacy/blob/7f33bc98/html/kernel/module.php#L73-L80" target="_blank">/html/kernel/module.php#L73-L80</a></code>


?> **Note** While not mandatory, the recommended modules—CKEditor, D3Forum, Pico, and X-Update Manager—extend the application's functionality and content editing capabilities.


## Module System

The modular system is built around two core classes:

`XoopsModule`: Represents individual module instances and their properties

`XoopsModuleHandler`: Manages the module lifecycle, including installation, activation, and updates

<div layout="row">
<div self="size-1of2">

### class XoopsModule

The `XoopsModule` class is used to manage and interact with modules in the XCL system.
It extends XoopsObject and provides methods to load module information, checking capabilities generate links, manage administrative menus, perform searches within the module, and performing module-specific operations. 

This class is essential for the dynamic handling of modules within the XCL, allowing for modularity and extensibility.


### class XoopsModuleHandler

The `XoopsModuleHandler` class extends the XoopsObjectHandler class, which provides basic data handling functionalities. class is used to manage module objects within the XOOPS system. It provides methods for creating, retrieving, updating, and deleting modules, as well as handling caching to improve performance.

Key methods of XoopsModule include:

- Creates a new instance of the XoopsModule class.  
 If `$isNew` is true, the module is flagged as new.

- Retrieves a module from the database using its ID. It checks the cache first and returns the cached module if available. If not, it queries the database and caches the result.

- Retrieves a module by its directory name. Similar to `get($id)`  
 it checks the cache first and queries the database if necessary.


</div>

<div self="size-1of2">

<p align="center">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="mermaid-module" width="100%" class="flowchart" style="max-width:400px" viewBox="0 0 459.297 860.883"><defs/><style>#mermaid-module{font-family:sans-serif;font-size:16px;fill:#fff}#mermaid-module .edge-thickness-normal{stroke-width:1px}#mermaid-module .edge-pattern-solid{stroke-dasharray:0}#mermaid-module .marker{fill:#999;stroke:#999}#mermaid-module .marker.cross{stroke:#999}#mermaid-module svg{font-family:usans-serif;font-size:16px}#mermaid-module p{margin:0}#mermaid-module .label{font-family:ui-sans-serif,system-ui,sans-serif;color:#fff}#mermaid-module .cluster-label span{color:#7b7ddd}#mermaid-module .cluster-label span p{background-color:transparent}#mermaid-module span{fill:#fff;color:#fff!important}#mermaid-module .node circle,#mermaid-module .node path,#mermaid-module .node rect{fill:#212745;stroke:#face74;stroke-width:1px}#mermaid-module .node .label{text-align:center}#mermaid-module .flowchart-link{stroke:#999;fill:none}#mermaid-module .edgeLabel{background-color:#0d0f1c;text-align:center}#mermaid-module .edgeLabel p{background-color:#0d0f1c}#mermaid-module .edgeLabel rect{opacity:.5;background-color:#fff;fill:#fff}#mermaid-module .cluster rect{fill:#121727!important;stroke:#5c6bc0!important;stroke-width:1px}#mermaid-module :root{--mermaid-font-family:sans-serif}</style><marker id="mermaid-module_flowchart-v2-pointEnd" class="marker flowchart-v2" markerHeight="8" markerUnits="userSpaceOnUse" markerWidth="8" orient="auto" refX="5" refY="5" viewBox="0 0 10 10"><path stroke-dasharray="1 0" d="m0 0 10 5-10 5z" class="arrowMarkerPath"/></marker><marker id="mermaid-module_flowchart-v2-pointStart" class="marker flowchart-v2" markerHeight="8" markerUnits="userSpaceOnUse" markerWidth="8" orient="auto" refX="4.5" refY="5" viewBox="0 0 10 10"><path stroke-dasharray="1 0" d="m0 5 10 5V0z" class="arrowMarkerPath"/></marker><marker id="mermaid-module_flowchart-v2-circleEnd" class="marker flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="11" refY="5" viewBox="0 0 10 10"><circle cx="5" cy="5" r="5" stroke-dasharray="1 0" class="arrowMarkerPath"/></marker><marker id="mermaid-module_flowchart-v2-circleStart" class="marker flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="-1" refY="5" viewBox="0 0 10 10"><circle cx="5" cy="5" r="5" stroke-dasharray="1 0" class="arrowMarkerPath"/></marker><marker id="mermaid-module_flowchart-v2-crossEnd" class="marker cross flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="12" refY="5.2" viewBox="0 0 11 11"><use xlink:href="#reuse-0" stroke-dasharray="1 0" stroke-width="2" class="arrowMarkerPath"/></marker><marker id="mermaid-module_flowchart-v2-crossStart" class="marker cross flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="-1" refY="5.2" viewBox="0 0 11 11"><use xlink:href="#reuse-0" stroke-dasharray="1 0" stroke-width="2" class="arrowMarkerPath"/></marker><g class="root"><g class="clusters"><g id="subGraph1" class="cluster" data-look="classic"><rect width="255.613" height="232" x="110.909" y="141.396"/><foreignObject width="87.738" height="24" class="cluster-label" transform="translate(194.847 141.396)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Core System</p></span></div></foreignObject></g><g id="subGraph0" class="cluster" data-look="classic"><rect width="443.297" height="405.487" x="8" y="447.396"/><foreignObject width="108.988" height="24" class="cluster-label" transform="translate(175.155 447.396)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Module System</p></span></div></foreignObject></g></g><g class="edgePaths"><path id="L_ModuleHandler_ModuleClass_0" marker-end="url(#mermaid-module_flowchart-v2-pointEnd)" d="m198.925 526.396-9.088 6.167c-9.088 6.167-27.264 18.5-36.352 33.957-9.088 15.457-9.088 34.039-9.088 43.329v9.291" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_ModuleClass_Manifest_0" marker-end="url(#mermaid-module_flowchart-v2-pointEnd)" d="M144.397 677.14v92.743" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_ModuleHandler_ModuleTable_0" marker-end="url(#mermaid-module_flowchart-v2-pointEnd)" d="m278.506 526.396 9.088 6.167c9.088 6.167 27.264 18.5 36.352 30.167 9.088 11.666 9.088 22.666 9.088 28.166v5.5" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_Controller_ModuleContext_0" marker-end="url(#mermaid-module_flowchart-v2-pointEnd)" d="M238.716 220.396v70" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_ModuleContext_ModuleHandler_0" marker-end="url(#mermaid-module_flowchart-v2-pointEnd)" d="M238.716 348.396v120" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_User_Controller_0" marker-end="url(#mermaid-module_flowchart-v2-pointEnd)" d="M238.716 67.396v95" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/></g><g class="edgeLabels"><g class="edgeLabel"><foreignObject width="63.7" height="24" class="label" transform="translate(112.547 551.396)"><div class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>manages</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="75.713" height="24" class="label" transform="translate(106.54 724.883)"><div class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>loads from</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="108.525" height="24" class="label" transform="translate(278.772 551.396)"><div class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>stores/retrieves</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="50.05" height="24" class="label" transform="translate(213.69 245.396)"><div class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>creates</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="31" height="24" class="label" transform="translate(223.216 398.396)"><div class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>uses</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="59.775" height="24" class="label" transform="translate(208.828 92.396)"><div class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>requests</p></span></div></foreignObject></g></g><g class="nodes"><g id="flowchart-ModuleHandler-0" class="node default" transform="translate(238.716 499.396)"><rect width="214.625" height="54" x="-107.313" y="-27" class="basic label-container"/><g class="label" transform="translate(-77.313 -12)"><rect/><foreignObject width="154.625" height="24"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>XoopsModuleHandler</p></span></div></foreignObject></g></g><g id="flowchart-ModuleClass-1" class="node default" transform="translate(144.397 650.14)"><rect width="158.85" height="54" x="-79.425" y="-27" class="basic label-container"/><g class="label" transform="translate(-49.425 -12)"><rect/><foreignObject width="98.85" height="24"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>XoopsModule</p></span></div></foreignObject></g></g><g id="flowchart-ModuleTable-2" class="node default"><path d="M273.822 612.559a59.213 12.162 0 0 0 118.425 0 59.213 12.162 0 0 0-118.425 0v75.162a59.213 12.162 0 0 0 118.425 0v-75.162" class="basic label-container"/><g class="label" transform="translate(281.322 636.14)"><rect/><foreignObject width="103.425" height="48"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>modules<br/>database table</p></span></div></foreignObject></g></g><g id="flowchart-Manifest-3" class="node default" transform="translate(144.397 800.883)"><rect width="190.963" height="54" x="-95.481" y="-27" class="basic label-container"/><g class="label" transform="translate(-65.481 -12)"><rect/><foreignObject width="130.963" height="24"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>xoops_version.php</p></span></div></foreignObject></g></g><g id="flowchart-Controller-10" class="node default" transform="translate(238.716 193.396)"><rect width="185.613" height="54" x="-92.806" y="-27" class="basic label-container"/><g class="label" transform="translate(-62.806 -12)"><rect/><foreignObject width="125.613" height="24"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Legacy_Controller</p></span></div></foreignObject></g></g><g id="flowchart-ModuleContext-11" class="node default" transform="translate(238.716 321.396)"><rect width="173.738" height="54" x="-86.869" y="-27" class="basic label-container"/><g class="label" transform="translate(-56.869 -12)"><rect/><foreignObject width="113.738" height="24"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Module Context</p></span></div></foreignObject></g></g><g id="flowchart-User-16" class="node default"><path d="M0 6.801a23.356 6.801 0 0 0 46.712 0A23.356 6.801 0 0 0 0 6.801v45.801a23.356 6.801 0 0 0 46.712 0V6.801" class="basic label-container" transform="translate(215.36 7.997)"/><g class="label" transform="translate(222.86 35.698)"><rect/><foreignObject width="31.712" height="24"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>User</p></span></div></foreignObject></g></g></g></g></svg>
</p>

</div>

</div>


## XoopsModule Class

<div layout="row">
<div self="size-1of2">


<p align="center">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="module-class" width="100%" aria-roledescription="class" class="classDiagram" style="max-width:378.32501220703125px" viewBox="0 0 378.325 1166"><defs><path id="reuse-0" d="m18 7-9 6-8-6 8-6Z"/></defs><style>#module-class{fill:#fff}#module-class .edge-thickness-normal{stroke-width:1px}#module-class .edge-pattern-solid{stroke-dasharray:0}#module-class .marker{fill:#999;stroke:#999}#module-class,#module-class svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px}#module-class p{margin:0}#module-class .edgeLabel,#module-class .nodeLabel{color:#fff}#module-class .edgeLabel .label span,#module-class .labelBkg{background:#212745}#module-class .node circle,#module-class .node path{fill:#212745;stroke:#5c6bc0;stroke-width:1px}#module-class .divider{stroke:#ddd;stroke-width:1}#module-class .relation{stroke:#999;stroke-width:1;fill:none}#module-class .composition,#module-class .dependency{fill:#999!important;stroke:#999!important;stroke-width:1}#module-class .aggregation,#module-class .extension,#module-class .lollipop{fill:transparent!important;stroke:#999!important;stroke-width:1}#module-class .lollipop{fill:#fff!important}#module-class :root{--mermaid-font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif}</style><defs><marker id="module-class_class-aggregationStart" class="marker aggregation class" markerHeight="240" markerWidth="190" orient="auto" refX="18" refY="7"><use xlink:href="#reuse-0"/></marker></defs><defs><marker id="module-class_class-aggregationEnd" class="marker aggregation class" markerHeight="28" markerWidth="20" orient="auto" refX="1" refY="7"><use xlink:href="#reuse-0"/></marker></defs><defs><marker id="module-class_class-extensionStart" class="marker extension class" markerHeight="240" markerWidth="190" orient="auto" refX="18" refY="7"><path d="m1 7 17 6V1Z"/></marker></defs><defs><marker id="module-class_class-extensionEnd" class="marker extension class" markerHeight="28" markerWidth="20" orient="auto" refX="1" refY="7"><path d="M1 1v12l17-6Z"/></marker></defs><defs><marker id="module-class_class-compositionStart" class="marker composition class" markerHeight="240" markerWidth="190" orient="auto" refX="18" refY="7"><use xlink:href="#reuse-0"/></marker></defs><defs><marker id="module-class_class-compositionEnd" class="marker composition class" markerHeight="28" markerWidth="20" orient="auto" refX="1" refY="7"><use xlink:href="#reuse-0"/></marker></defs><defs><marker id="module-class_class-dependencyStart" class="marker dependency class" markerHeight="240" markerWidth="190" orient="auto" refX="6" refY="7"><path d="m5 7 4 6-8-6 8-6Z"/></marker></defs><defs><marker id="module-class_class-dependencyEnd" class="marker dependency class" markerHeight="28" markerWidth="20" orient="auto" refX="13" refY="7"><path d="m18 7-9 6 5-6-5-6Z"/></marker></defs><defs><marker id="module-class_class-lollipopStart" class="marker lollipop class" markerHeight="240" markerWidth="190" orient="auto" refX="13" refY="7"><circle cx="7" cy="7" r="6" fill="transparent" stroke="#000"/></marker></defs><defs><marker id="module-class_class-lollipopEnd" class="marker lollipop class" markerHeight="240" markerWidth="190" orient="auto" refX="1" refY="7"><circle cx="7" cy="7" r="6" fill="transparent" stroke="#000"/></marker></defs><g class="root"><g class="edgePaths"><path id="id_XoopsObject_XoopsModule_1" marker-start="url(#module-class_class-extensionStart)" d="M189.163 110v32" class="edge-thickness-normal edge-pattern-solid relation"/><path id="id_XoopsModule_XoopsModuleHandler_2" d="M189.163 766v74" class="edge-thickness-normal edge-pattern-solid relation"/></g><g class="edgeLabels"><g class="edgeLabel"><foreignObject width="0" height="24" class="label" transform="translate(0 -12)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel" display="inline-block"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="87.863" height="24" class="label" transform="translate(145.231 791)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel" display="inline-block"><p>managed by</p></span></div></foreignObject></g></g><g class="nodes"><g id="classId-XoopsObject-0" class="node default"><g class="basic label-container"><path stroke-width="0" d="M129.075 8h120.176v84H129.075"/><path fill="none" stroke="#ddd" stroke-width="1.3" d="M129.075 8h120.176M129.075 8h120.176m0 0v84m0-84v84m0 0H129.075m120.176 0H129.075m0 0V8m0 84V8"/></g><g class="label-group text"><foreignObject width="96.175" height="24" class="label" font-weight="bolder" transform="translate(141.075 20)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:143px;text-align:center"><span class="nodeLabel markdown-node-label"><p>XoopsObject</p></span></div></foreignObject></g><path fill="none" stroke-width="1.3" d="M129.075 56h120.176m-120.176 0h120.176M129.075 74h120.176m-120.176 0h120.176" class="divider"/></g><g id="classId-XoopsModule-1" class="node default"><g class="basic label-container"><path stroke-width="0" d="M8 142h362.326v624H8"/><path fill="none" stroke="#ddd" stroke-width="1.3" d="M8 142h362.326M8 142h362.326m0 0v624m0-624v624m0 0H8m362.326 0H8m0 0V142m0 624V142"/></g><g class="label-group text"><foreignObject width="104.9" height="24" class="label" font-weight="bolder" transform="translate(136.713 154)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:149px;text-align:center"><span class="nodeLabel markdown-node-label"><p>XoopsModule</p></span></div></foreignObject></g><g class="members-group text"><foreignObject width="64.238" height="24" class="label" transform="translate(20 202)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:121px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+mid: int</p></span></div></foreignObject><foreignObject width="98.275" height="24" class="label" transform="translate(20 226)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:158px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+name: string</p></span></div></foreignObject><foreignObject width="87.838" height="24" class="label" transform="translate(20 250)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:147px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+version: int</p></span></div></foreignObject><foreignObject width="117.125" height="24" class="label" transform="translate(20 274)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:177px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+dirname: string</p></span></div></foreignObject><foreignObject width="156.025" height="24" class="label" transform="translate(20 298)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:221px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+trust_dirname: string</p></span></div></foreignObject><foreignObject width="86.113" height="24" class="label" transform="translate(20 322)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:145px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+role: string</p></span></div></foreignObject><foreignObject width="95.988" height="24" class="label" transform="translate(20 346)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:156px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+hasmain: int</p></span></div></foreignObject><foreignObject width="105.412" height="24" class="label" transform="translate(20 370)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:166px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+hasadmin: int</p></span></div></foreignObject><foreignObject width="113.838" height="24" class="label" transform="translate(20 394)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:171px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+modinfo: array</p></span></div></foreignObject><foreignObject width="138.488" height="24" class="label" transform="translate(20 418)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:198px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+adminmenu: array</p></span></div></foreignObject></g><g class="methods-group text"><foreignObject width="240.275" height="24" class="label" transform="translate(20 466)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:302px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+loadInfoAsVar(dirname, verbose)</p></span></div></foreignObject><foreignObject width="110.863" height="24" class="label" transform="translate(20 490)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:168px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+getInfo(name)</p></span></div></foreignObject><foreignObject width="83.875" height="24" class="label" transform="translate(20 514)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:142px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+mainLink()</p></span></div></foreignObject><foreignObject width="74.275" height="24" class="label" transform="translate(20 538)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:133px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+subLink()</p></span></div></foreignObject><foreignObject width="138.713" height="24" class="label" transform="translate(20 562)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:195px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+loadAdminMenu()</p></span></div></foreignObject><foreignObject width="131.113" height="24" class="label" transform="translate(20 586)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:187px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+getAdminMenu()</p></span></div></foreignObject><foreignObject width="200.7" height="24" class="label" transform="translate(20 610)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:259px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+loadInfo(dirname, verbose)</p></span></div></foreignObject><foreignObject width="285.875" height="24" class="label" transform="translate(20 634)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:348px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+search(term, andor, limit, offset, userid)</p></span></div></foreignObject><foreignObject width="163.425" height="24" class="label" transform="translate(20 658)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:224px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+getRenderedVersion()</p></span></div></foreignObject><foreignObject width="77.6" height="24" class="label" transform="translate(20 682)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:135px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+hasHelp()</p></span></div></foreignObject><foreignObject width="76.825" height="24" class="label" transform="translate(20 706)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:133px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+getHelp()</p></span></div></foreignObject><foreignObject width="134.463" height="24" class="label" transform="translate(20 730)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:193px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+hasNeedUpdate()</p></span></div></foreignObject></g><path fill="none" stroke-width="1.3" d="M8 190h362.326M8 190h362.326M8 454h362.326M8 454h362.326" class="divider"/></g><g id="classId-XoopsModuleHandler-2" class="node default"><g class="basic label-container"><path stroke-width="0" d="M26.557 840h325.212v318H26.557"/><path fill="none" stroke="#ddd" stroke-width="1.3" d="M26.557 840h325.212m-325.212 0h325.212m0 0v318m0-318v318m0 0H26.557m325.212 0H26.557m0 0V840m0 318V840"/></g><g class="label-group text"><foreignObject width="164.925" height="24" class="label" font-weight="bolder" transform="translate(106.7 852)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:206px;text-align:center"><span class="nodeLabel markdown-node-label"><p>XoopsModuleHandler</p></span></div></foreignObject></g><g class="methods-group text"><foreignObject width="106.425" height="24" class="label" transform="translate(38.556 930)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:167px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+create(isNew)</p></span></div></foreignObject><foreignObject width="57.112" height="24" class="label" transform="translate(38.556 954)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:112px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+get(id)</p></span></div></foreignObject><foreignObject width="178.938" height="24" class="label" transform="translate(38.556 978)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:238px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+getByDirname(dirname)</p></span></div></foreignObject><foreignObject width="113.55" height="24" class="label" transform="translate(38.556 1002)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:171px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+insert(module)</p></span></div></foreignObject><foreignObject width="118.3" height="24" class="label" transform="translate(38.556 1026)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:175px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+delete(module)</p></span></div></foreignObject><foreignObject width="218.75" height="24" class="label" transform="translate(38.556 1050)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:287px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+getObjects(criteria, id_as_key)</p></span></div></foreignObject><foreignObject width="134.825" height="24" class="label" transform="translate(38.556 1074)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:194px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+getCount(criteria)</p></span></div></foreignObject><foreignObject width="115.625" height="24" class="label" transform="translate(38.556 1098)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:176px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+getList(criteria)</p></span></div></foreignObject><foreignObject width="159.025" height="24" class="label" transform="translate(38.556 1122)"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:217px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+getByMid(mid, force)</p></span></div></foreignObject></g><path fill="none" stroke-width="1.3" d="M26.557 888h325.212m-325.212 0h325.212M26.557 912h325.212m-325.212 0h325.212" class="divider"/></g></g></g></svg>
</p>

<span class="iconify" data-icon="mdi:github"></span> Source: 
<code><a href="https://github.com/xoopscube/legacy/blob/7f33bc98/html/kernel/module.php#L23-L319" target="_blank">/html/kernel/module.php#L23-L319</a></code>

</div>

<div self="size-1of2">

### Class Overview

**Inheritance**  
The `XoopsModule` class extends the `XoopsObject` class

**Properties**  
`modinfo`: Stores module information loaded from a file.
`adminmenu`: Stores the administrative menu for the module.

**Constructor**  
Initializes properties using the `initVar` method, which sets up the module's attributes like `mid`, `name`, `version`, etc.

### Key Methods

**`loadInfoAsVar($dirname, $verbose = true)`**  
Loads module information from a directory and sets various properties based on this information.

**`getInfo($name = null)`**  
Retrieves a specific name, otherwise, it returns all module information.

**`mainLink()`**  
Generates a link to the module's main page if the module has a main page.

**`subLink()`**  
Retrieves links to the module's subpages if they exist.

**`loadAdminMenu()`**  
Loads the administrative menu for the module (array).

**`getAdminMenu()`**  
Returns the administrative menu for the module.

**`loadInfo($dirname, $verbose = true)`**  
Loads the module's information from a file `xoops_version.php`

**`search($term='', $andor='AND', $limit=0, $offset=0, $userid=0)`**:  
Searches for content within the module based on the provided parameters.

**`getRenderedVersion()`**  
Returns the module's version formatted as a string.

**`hasHelp()` and `getHelp()`**  
Checks if the module has help documentation.

**`hasNeedUpdate()`**  
Determines if the module needs an update.

</div>

</div>


## XoopsModuleHandler class

The XoopsModuleHandler class manages module objects in the system. It handles database operations for modules, including creation, loading, updating, and deletion. The class extends XoopsObjectHandler and provides methods for retrieving modules by various criteria.


<p align="center">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="module-structure" aria-roledescription="class" class="xcl-diagram" style="max-width:1324.581298828125px" viewBox="0 0 1324.581 1010"><defs><path id="reuse-0" d="m18 7-9 6-8-6 8-6Z"/></defs><defs><marker id="module-structure_class-aggregationStart" class="marker aggregation class" markerHeight="240" markerWidth="190" orient="auto" refX="18" refY="7"><use xlink:href="#reuse-0"/></marker></defs><defs><marker id="module-structure_class-aggregationEnd" class="marker aggregation class" markerHeight="28" markerWidth="20" orient="auto" refX="1" refY="7"><use xlink:href="#reuse-0"/></marker></defs><defs><marker id="module-structure_class-extensionStart" class="marker extension class" markerHeight="240" markerWidth="190" orient="auto" refX="18" refY="7"><path d="m1 7 17 6V1Z"/></marker></defs><defs><marker id="module-structure_class-extensionEnd" class="marker extension class" markerHeight="28" markerWidth="20" orient="auto" refX="1" refY="7"><path d="M1 1v12l17-6Z"/></marker></defs><defs><marker id="module-structure_class-compositionStart" class="marker composition class" markerHeight="240" markerWidth="190" orient="auto" refX="18" refY="7"><use xlink:href="#reuse-0"/></marker></defs><defs><marker id="module-structure_class-compositionEnd" class="marker composition class" markerHeight="28" markerWidth="20" orient="auto" refX="1" refY="7"><use xlink:href="#reuse-0"/></marker></defs><defs><marker id="module-structure_class-dependencyStart" class="marker dependency class" markerHeight="240" markerWidth="190" orient="auto" refX="6" refY="7"><path d="m5 7 4 6-8-6 8-6Z"/></marker></defs><defs><marker id="module-structure_class-dependencyEnd" class="marker dependency class" markerHeight="28" markerWidth="20" orient="auto" refX="13" refY="7"><path d="m18 7-9 6 5-6-5-6Z"/></marker></defs><defs><marker id="module-structure_class-lollipopStart" class="marker lollipop class" markerHeight="240" markerWidth="190" orient="auto" refX="13" refY="7"><circle cx="7" cy="7" r="6" fill="transparent" stroke="#000"/></marker></defs><defs><marker id="module-structure_class-lollipopEnd" class="marker lollipop class" markerHeight="240" markerWidth="190" orient="auto" refX="1" refY="7"><circle cx="7" cy="7" r="6" fill="transparent" stroke="#000"/></marker></defs><g class="root"><g class="edgePaths"><path id="id_XoopsModule_ModuleManifest_1" marker-start="url(#module-structure_class-compositionStart)" d="m556.477 464.445-72.006 25.426c-72.006 25.426-216.018 76.277-288.024 109.87-72.006 33.592-72.006 49.926-72.006 58.092V666" class="edge-thickness-normal edge-pattern-solid relation"/><path id="id_XoopsModuleHandler_XoopsModule_2" marker-end="url(#module-structure_class-dependencyEnd)" d="M671.019 206v68" class="edge-thickness-normal edge-pattern-solid relation"/><path id="id_XoopsModule_UserModule_3" marker-start="url(#module-structure_class-extensionStart)" d="m558.842 504.758-25.985 18.707c-25.985 18.707-77.956 56.121-103.941 98.995-25.985 42.873-25.985 91.207-25.985 115.373V762" class="edge-thickness-normal edge-pattern-solid relation"/><path id="id_XoopsModule_LegacyModule_4" marker-start="url(#module-structure_class-extensionStart)" d="M671.019 586v176" class="edge-thickness-normal edge-pattern-solid relation"/><path id="id_XoopsModule_ProtectorModule_5" marker-start="url(#module-structure_class-extensionStart)" d="m783.105 506.155 25.205 18.474c25.205 18.474 75.615 55.423 100.82 98.064 25.204 42.64 25.204 90.974 25.204 115.14V762" class="edge-thickness-normal edge-pattern-solid relation"/><path id="id_XoopsModule_MessageModule_6" marker-start="url(#module-structure_class-extensionStart)" d="m785.512 465.452 69.764 25.258c69.765 25.258 209.293 75.774 279.057 125.199 69.764 49.424 69.764 97.758 69.764 121.924V762" class="edge-thickness-normal edge-pattern-solid relation"/></g><g class="edgeLabels"><g class="edgeLabel"><foreignObject width="200" height="48" class="label" transform="translate(24.44 593)"><div class="labelBkg" display="table" style="white-space:break-spaces;line-height:1.5;max-width:200px;text-align:center;width:200px"><span class="edgeLabel" display="inline-block"><p>Defined in &quot;xoops_version.php&quot;</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="63.7" height="24" class="label" transform="translate(639.169 231)"><div class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel" display="inline-block"><p>manages</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="24" class="label" transform="translate(0 -12)"><div class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel" display="inline-block"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="24" class="label" transform="translate(0 -12)"><div class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel" display="inline-block"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="24" class="label" transform="translate(0 -12)"><div class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel" display="inline-block"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="24" class="label" transform="translate(0 -12)"><div class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel" display="inline-block"/></div></foreignObject></g></g><g class="nodes"><g id="classId-XoopsModule-12" class="node default"><g class="basic label-container"><path fill="#fff" stroke-width="0" d="M573.45 280h195.139v288h-195.14"/><path fill="none" stroke="#ddd" stroke-width="1.3" d="M573.45 280h195.139m-195.138 0h195.138m0 0v288m0-288v288m0 0h-195.14m195.138 0H573.449m0 0V280m0 288V280"/></g><g class="label-group text"><foreignObject width="104.9" height="24" class="label" font-weight="bolder" transform="translate(618.569 292)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:149px;text-align:center"><span class="nodeLabel markdown-node-label"><p>XoopsModule</p></span></div></foreignObject></g><g class="members-group text"><foreignObject width="64.238" height="24" class="label" transform="translate(585.45 340)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:121px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+mid: int</p></span></div></foreignObject><foreignObject width="98.275" height="24" class="label" transform="translate(585.45 364)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:158px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+name: string</p></span></div></foreignObject><foreignObject width="87.838" height="24" class="label" transform="translate(585.45 388)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:147px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+version: int</p></span></div></foreignObject><foreignObject width="117.125" height="24" class="label" transform="translate(585.45 412)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:177px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+dirname: string</p></span></div></foreignObject></g><g class="methods-group text"><foreignObject width="118.688" height="24" class="label" transform="translate(585.45 460)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:177px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+loadInfoAsVar()</p></span></div></foreignObject><foreignObject width="71.513" height="24" class="label" transform="translate(585.45 484)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:127px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+getInfo()</p></span></div></foreignObject><foreignObject width="83.875" height="24" class="label" transform="translate(585.45 508)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:142px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+mainLink()</p></span></div></foreignObject><foreignObject width="74.275" height="24" class="label" transform="translate(585.45 532)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:133px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+subLink()</p></span></div></foreignObject></g><path fill="none" stroke-width="1.3" d="M573.45 328h195.139m-195.14 0h195.14M573.45 448h195.139m-195.14 0h195.14" class="divider"/></g><g id="classId-ModuleManifest-13" class="node default"><g class="basic label-container"><path fill="#fff" stroke-width="0" d="M8 666h232.88v336H8"/><path fill="none" stroke="#ddd" stroke-width="1.3" d="M8 666h232.88M8 666h232.88m0 0v336m0-336v336m0 0H8m232.88 0H8m0 0V666m0 336V666"/></g><g class="label-group text"><foreignObject width="124.088" height="24" class="label" font-weight="bolder" transform="translate(62.397 678)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:168px;text-align:center"><span class="nodeLabel markdown-node-label"><p>ModuleManifest</p></span></div></foreignObject></g><g class="members-group text"><foreignObject width="117.125" height="24" class="label" transform="translate(20 726)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:177px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+dirname: string</p></span></div></foreignObject><foreignObject width="98.275" height="24" class="label" transform="translate(20 750)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:158px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+name: string</p></span></div></foreignObject><foreignObject width="109.613" height="24" class="label" transform="translate(20 774)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:170px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+version: string</p></span></div></foreignObject><foreignObject width="137.463" height="24" class="label" transform="translate(20 798)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:199px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+description: string</p></span></div></foreignObject><foreignObject width="105.537" height="24" class="label" transform="translate(20 822)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:164px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+author: string</p></span></div></foreignObject><foreignObject width="98.738" height="24" class="label" transform="translate(20 846)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:160px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+blocks: array</p></span></div></foreignObject><foreignObject width="95.95" height="24" class="label" transform="translate(20 870)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:157px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+tables: array</p></span></div></foreignObject><foreignObject width="123.525" height="24" class="label" transform="translate(20 894)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:186px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+templates: array</p></span></div></foreignObject><foreignObject width="146.838" height="24" class="label" transform="translate(20 918)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:207px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+hasAdmin: boolean</p></span></div></foreignObject><foreignObject width="141.262" height="24" class="label" transform="translate(20 942)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:202px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+adminindex: string</p></span></div></foreignObject></g><path fill="none" stroke-width="1.3" d="M8 714h232.88M8 714h232.88M8 978h232.88M8 978h232.88" class="divider"/></g><g id="classId-XoopsModuleHandler-14" class="node default"><g class="basic label-container"><path fill="#fff" stroke-width="0" d="M557.419 8h227.2v198h-227.2"/><path fill="none" stroke="#ddd" stroke-width="1.3" d="M557.419 8h227.2m-227.2 0h227.2m0 0v198m0-198v198m0 0h-227.2m227.2 0h-227.2m0 0V8m0 198V8"/></g><g class="label-group text"><foreignObject width="164.925" height="24" class="label" font-weight="bolder" transform="translate(588.556 20)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:206px;text-align:center"><span class="nodeLabel markdown-node-label"><p>XoopsModuleHandler</p></span></div></foreignObject></g><g class="methods-group text"><foreignObject width="120.738" height="24" class="label" transform="translate(569.419 98)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:179px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+getByDirname()</p></span></div></foreignObject><foreignObject width="67.438" height="24" class="label" transform="translate(569.419 122)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:126px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+getList()</p></span></div></foreignObject><foreignObject width="59.675" height="24" class="label" transform="translate(569.419 146)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:117px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+insert()</p></span></div></foreignObject><foreignObject width="64.425" height="24" class="label" transform="translate(569.419 170)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:121px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+delete()</p></span></div></foreignObject></g><path fill="none" stroke-width="1.3" d="M557.419 56h227.2m-227.2 0h227.2m-227.2 24h227.2m-227.2 0h227.2" class="divider"/></g><g id="classId-UserModule-15" class="node default"><g class="basic label-container"><path fill="#fff" stroke-width="0" d="M290.881 762h224.1v144h-224.1"/><path fill="none" stroke="#ddd" stroke-width="1.3" d="M290.881 762h224.1m-224.1 0h224.1m0 0v144m0-144v144m0 0h-224.1m224.1 0h-224.1m0 0V762m0 144V762"/></g><g class="label-group text"><foreignObject width="91.525" height="24" class="label" font-weight="bolder" transform="translate(357.169 774)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:138px;text-align:center"><span class="nodeLabel markdown-node-label"><p>UserModule</p></span></div></foreignObject></g><g class="members-group text"><foreignObject width="146.75" height="24" class="label" transform="translate(302.881 822)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:208px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+user authentication</p></span></div></foreignObject><foreignObject width="154.338" height="24" class="label" transform="translate(302.881 846)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:213px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+profile management</p></span></div></foreignObject></g><path fill="none" stroke-width="1.3" d="M290.881 810h224.1m-224.1 0h224.1m-224.1 72h224.1m-224.1 0h224.1" class="divider"/></g><g id="classId-LegacyModule-16" class="node default"><g class="basic label-container"><path fill="#fff" stroke-width="0" d="M564.982 762h212.074v144H564.982"/><path fill="none" stroke="#ddd" stroke-width="1.3" d="M564.982 762h212.074m-212.074 0h212.074m0 0v144m0-144v144m0 0H564.982m212.074 0H564.982m0 0V762m0 144V762"/></g><g class="label-group text"><foreignObject width="109.525" height="24" class="label" font-weight="bolder" transform="translate(616.256 774)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:157px;text-align:center"><span class="nodeLabel markdown-node-label"><p>LegacyModule</p></span></div></foreignObject></g><g class="members-group text"><foreignObject width="133.313" height="24" class="label" transform="translate(576.981 822)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:194px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+core functionality</p></span></div></foreignObject><foreignObject width="102.537" height="24" class="label" transform="translate(576.981 846)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:161px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+compatibility</p></span></div></foreignObject></g><path fill="none" stroke-width="1.3" d="M564.982 810h212.074m-212.074 0h212.074m-212.074 72h212.074m-212.074 0h212.074" class="divider"/></g><g id="classId-ProtectorModule-17" class="node default"><g class="basic label-container"><path fill="#fff" stroke-width="0" d="M827.056 762h214.556v144H827.056"/><path fill="none" stroke="#ddd" stroke-width="1.3" d="M827.056 762h214.556m-214.556 0h214.556m0 0v144m0-144v144m0 0H827.056m214.556 0H827.056m0 0V762m0 144V762"/></g><g class="label-group text"><foreignObject width="128.613" height="24" class="label" font-weight="bolder" transform="translate(870.028 774)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:172px;text-align:center"><span class="nodeLabel markdown-node-label"><p>ProtectorModule</p></span></div></foreignObject></g><g class="members-group text"><foreignObject width="126.25" height="24" class="label" transform="translate(839.056 822)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:190px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+security features</p></span></div></foreignObject><foreignObject width="96.338" height="24" class="label" transform="translate(839.056 846)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:158px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+filter system</p></span></div></foreignObject></g><path fill="none" stroke-width="1.3" d="M827.056 810h214.556m-214.556 0h214.556m-214.556 72h214.556m-214.556 0h214.556" class="divider"/></g><g id="classId-MessageModule-18" class="node default"><g class="basic label-container"><path fill="#fff" stroke-width="0" d="M1091.613 762h224.968v144h-224.968"/><path fill="none" stroke="#ddd" stroke-width="1.3" d="M1091.613 762h224.968m-224.968 0h224.968m0 0v144m0-144v144m0 0h-224.968m224.968 0h-224.968m0 0V762m0 144V762"/></g><g class="label-group text"><foreignObject width="123.113" height="24" class="label" font-weight="bolder" transform="translate(1142.54 774)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:171px;text-align:center"><span class="nodeLabel markdown-node-label"><p>MessageModule</p></span></div></foreignObject></g><g class="members-group text"><foreignObject width="139.413" height="24" class="label" transform="translate(1103.613 822)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+private messaging</p></span></div></foreignObject><foreignObject width="90.813" height="24" class="label" transform="translate(1103.613 846)"><div display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:149px;text-align:center"><span class="nodeLabel markdown-node-label"><p>+notification</p></span></div></foreignObject></g><path fill="none" stroke-width="1.3" d="M1091.613 810h224.968m-224.968 0h224.968m-224.968 72h224.968m-224.968 0h224.968" class="divider"/></g></g></g></svg>
</p>


### Key Methods

- `create()`: Creates a new module object
- `get()`: Retrieves a module by ID
- `getByDirname()`: Retrieves a module by its directory name
- `insert()`: Saves a module to the database
- `delete()`: Removes a module from the database
- `getObjects()`: Retrieves multiple modules based on criteria
- `getList()`: Gets a list of modules (often used for selection lists)

The handler implements caching mechanisms to optimize performance when repeatedly accessing the same modules:

```php
// Module caching in XoopsModuleHandler
public $_cachedModule_mid = []; // Cache by module ID
public $_cachedModule_dirname = []; // Cache by dirname
```

## Module Manifest

The `xoops_version.php` file is the manifest that defines a module's properties and capabilities. This file contains an array called `$modversion` that specifies allmost everything about the module.

Key sections in the manifest include:

<div class="table-wrapper">
<table><thead><tr><th>Section</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>Basic Info</td><td>Module name, description, version</td><td><code>$modversion['name'] = 'User Manager'</code></td></tr><tr><td>Features</td><td>Module capabilities</td><td><code>$modversion['hasAdmin'] = 1</code></td></tr><tr><td>Database</td><td>SQL tables and initialization</td><td><code>$modversion['sqlfile']['mysql'] = "sql/mysql.sql"</code></td></tr><tr><td>Templates</td><td>Template definitions</td><td><code>$modversion['templates'][1]['file'] = 'user_form.html'</code></td></tr><tr><td>Blocks</td><td>Block definitions</td><td><code>$modversion['blocks'][1]['name'] = 'User Login'</code></td></tr><tr><td>Preferences</td><td>Configuration options</td><td><code>$modversion['config'][1]['name'] = 'allow_register'</code></td></tr></tbody></table>
</div>


## Module Preferences

Modules can define configurable preferences:

```php
$modversion['config'][]= [
    'name'        => 'allow_register',
    'title'       => '_MI_USER_CONF_ALLOW_REGISTER',
    'description' => '_MI_USER_CONF_ALW_RG_DESC',
    'formtype'    => 'yesno',
    'valuetype'   => 'int',
    'default'     =>1
];
```

<span class="iconify" data-icon="mdi:github"></span> Sources: 
<code><a href="https://github.com/xoopscube/legacy/blob/7f33bc98/html/modules/user/xoops_version.php#L58-L65" target="_blank">/modules/user/xoops_version.php#L58-L65</a></code>
<code><a href="https://github.com/xoopscube/legacy/blob/7f33bc98/html/kernel/config.php#L25-L328" target="_blank">/html/kernel/config.php#L25-L328</a></code>
<code><a href="https://github.com/xoopscube/legacy/blob/7f33bc98/html/kernel/configitem.php#L31-L272" target="_blank">/html/kernel/configitem.php#L31-L272</a></code>
<code><a href="https://github.com/xoopscube/legacy/blob/7f33bc98/html/modules/legacy/admin/forms/PreferenceEditForm.class.php#L18-L31" target="_blank">/html/modules/legacy/admin/forms/PreferenceEditForm.class.php#L18-L31</a></code>




## Module Block

Modules can define blocks in their manifest to display content in different regions of the site:

```php
$modversion['blocks'][1]['file'] = 'legacy_usermenu.php';
$modversion['blocks'][1]['name'] = _MI_LEGACY_BLOCK_USERMENU_NAME;
$modversion['blocks'][1]['description'] = _MI_LEGACY_BLOCK_USERMENU_DESC;
$modversion['blocks'][1]['show_func'] = 'b_legacy_usermenu_show';
$modversion['blocks'][1]['template'] = 'legacy_block_usermenu.html';
```

<span class="iconify" data-icon="mdi:github"></span> Sources: 
<code><a href="https://github.com/xoopscube/legacy/blob/7f33bc98/html/modules/legacy/xoops_version.php#L149-L157" target="_blank">/html/modules/legacy/xoops_version.php#L149-L157</a></code>
<code><a href="https://github.com/xoopscube/legacy/blob/7f33bc98/html/kernel/block.php#L31-L686" target="_blank">/html/kernel/block.php#L31-L686</a></code>


## Module Notification

Modules can use the notification system to alert users about changes or events:

<p align="center">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="module-notify" width="100%" aria-roledescription="flowchart-v2" class="flowchart" style="max-width:960.1625366210938px" viewBox="0 0 960.163 510"><style>@keyframes edge-animation-frame{0%{stroke-dashoffset:0}}#module-notify{font-family:sans-serif;font-size:16px;fill:#fff}#module-notify .edge-thickness-normal{stroke-width:1px}#module-notify .edge-pattern-solid{stroke-dasharray:0}#module-notify .marker{fill:#999;stroke:#999}#module-notify .marker.cross{stroke:#999}#module-notify svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px}#module-notify p{margin:0}#module-notify .label{font-family:sans-serif;color:#fff}#module-notify span{fill:#fff;color:#fff}#module-notify .node circle,#module-notify .node path,#module-notify .node rect{fill:#212745;stroke:#face74;stroke-width:1px}#module-notify .node .label{text-align:center}#module-notify .flowchart-link{stroke:#999;fill:none}#module-notify .edgeLabel{background-color:#212745;text-align:center}#module-notify .edgeLabel rect{opacity:.5;background-color:#fff;fill:#fff}#module-notify .labelBkg{background-color:rgba(255,255,255,.5)}#module-notify :root{--mermaid-font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif}</style><marker id="module-notify_flowchart-v2-pointEnd" class="marker flowchart-v2" markerHeight="8" markerUnits="userSpaceOnUse" markerWidth="8" orient="auto" refX="5" refY="5" viewBox="0 0 10 10"><path stroke-dasharray="1 0" d="m0 0 10 5-10 5z" class="arrowMarkerPath"/></marker><marker id="module-notify_flowchart-v2-pointStart" class="marker flowchart-v2" markerHeight="8" markerUnits="userSpaceOnUse" markerWidth="8" orient="auto" refX="4.5" refY="5" viewBox="0 0 10 10"><path stroke-dasharray="1 0" d="m0 5 10 5V0z" class="arrowMarkerPath"/></marker><marker id="module-notify_flowchart-v2-circleEnd" class="marker flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="11" refY="5" viewBox="0 0 10 10"><circle cx="5" cy="5" r="5" stroke-dasharray="1 0" class="arrowMarkerPath"/></marker><marker id="module-notify_flowchart-v2-circleStart" class="marker flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="-1" refY="5" viewBox="0 0 10 10"><circle cx="5" cy="5" r="5" stroke-dasharray="1 0" class="arrowMarkerPath"/></marker><marker id="module-notify_flowchart-v2-crossEnd" class="marker cross flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="12" refY="5.2" viewBox="0 0 11 11"><use xlink:href="#reuse-0" stroke-dasharray="1 0" stroke-width="2" class="arrowMarkerPath"/></marker><marker id="module-notify_flowchart-v2-crossStart" class="marker cross flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="-1" refY="5.2" viewBox="0 0 11 11"><use xlink:href="#reuse-0" stroke-dasharray="1 0" stroke-width="2" class="arrowMarkerPath"/></marker><g class="root"><g class="edgePaths"><path id="L_Module_NotificationDef_0" marker-end="url(#module-notify_flowchart-v2-pointEnd)" d="m324.587 57.229-12.774 4.962c-12.774 4.962-38.323 14.885-51.098 23.347C247.941 94 247.941 101 247.941 104.5v3.5" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_NotificationDef_Categories_0" marker-end="url(#module-notify_flowchart-v2-pointEnd)" d="m169.489 190-8.381 4.167c-8.382 4.166-25.145 12.5-33.526 20.166C119.2 222 119.2 229 119.2 232.5v3.5" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_NotificationDef_Events_0" marker-end="url(#module-notify_flowchart-v2-pointEnd)" d="m326.392 190 8.381 4.167c8.382 4.166 25.145 12.5 33.527 20.166 8.381 7.667 8.381 14.667 8.381 18.167v3.5" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_Module_TriggerEvent_0" marker-end="url(#module-notify_flowchart-v2-pointEnd)" d="m439.05 46.332 34.231 6.778c34.231 6.778 102.694 20.334 136.925 30.612C644.437 94 644.437 101 644.437 104.5v3.5" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_TriggerEvent_NotificationHandler_0" marker-end="url(#module-notify_flowchart-v2-pointEnd)" d="M644.437 190v46" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_NotificationHandler_Delegate_0" marker-end="url(#module-notify_flowchart-v2-pointEnd)" d="m589.647 294-8.455 4.167c-8.455 4.166-25.366 12.5-33.821 20.166-8.455 7.667-8.455 14.667-8.455 18.167v3.5" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_NotificationHandler_NotifyUser_0" marker-end="url(#module-notify_flowchart-v2-pointEnd)" d="m699.228 294 8.455 4.167c8.455 4.166 25.366 12.5 33.821 20.166 8.455 7.667 8.455 14.667 8.455 18.167v3.5" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_NotifyUser_Email_0" marker-end="url(#module-notify_flowchart-v2-pointEnd)" d="m690.305 398-9.206 4.167c-9.206 4.166-27.618 12.5-36.824 20.166-9.206 7.667-9.206 14.667-9.206 18.167v3.5" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_NotifyUser_PM_0" marker-end="url(#module-notify_flowchart-v2-pointEnd)" d="m809.614 398 9.206 4.167c9.206 4.166 27.618 12.5 36.824 20.166C864.85 430 864.85 437 864.85 440.5v3.5" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/></g><g class="edgeLabels"><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g></g><g class="nodes"><g id="flowchart-Module-0" class="node default"><path d="M324.588 8h114.463v54H324.588z" class="basic label-container"/><g class="label" transform="translate(354.587 23)"><rect/><foreignObject width="54.463" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Module</p></span></div></foreignObject></g></g><g id="flowchart-NotificationDef-1" class="node default"><path d="M139.79 112h216.3v78h-216.3z" class="basic label-container"/><g class="label" transform="translate(169.79 127)"><rect/><foreignObject width="156.3" height="48"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Notification Definition<br/>in xoops_version.php</p></span></div></foreignObject></g></g><g id="flowchart-Categories-3" class="node default"><path d="M8 240h222.4v54H8z" class="basic label-container"/><g class="label" transform="translate(38 255)"><rect/><foreignObject width="162.4" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Notification Categories</p></span></div></foreignObject></g></g><g id="flowchart-Events-5" class="node default"><path d="M280.4 240h192.563v54H280.4z" class="basic label-container"/><g class="label" transform="translate(310.4 255)"><rect/><foreignObject width="132.563" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Notification Events</p></span></div></foreignObject></g></g><g id="flowchart-TriggerEvent-7" class="node default"><path d="M566.487 112h155.9v78h-155.9z" class="basic label-container"/><g class="label" transform="translate(596.487 127)"><rect/><foreignObject width="95.9" height="48"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>triggerEvent()<br/>call</p></span></div></foreignObject></g></g><g id="flowchart-NotificationHandler-9" class="node default"><path d="M522.962 240h242.95v54h-242.95z" class="basic label-container"/><g class="label" transform="translate(552.962 255)"><rect/><foreignObject width="182.95" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>XoopsNotificationHandler</p></span></div></foreignObject></g></g><g id="flowchart-Delegate-11" class="node default"><path d="M451.01 344h175.813v54H451.01z" class="basic label-container"/><g class="label" transform="translate(481.01 359)"><rect/><foreignObject width="115.813" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>XCube_Delegate</p></span></div></foreignObject></g></g><g id="flowchart-NotifyUser-13" class="node default"><path d="M676.822 344h146.275v54H676.822z" class="basic label-container"/><g class="label" transform="translate(706.822 359)"><rect/><foreignObject width="86.275" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Notify Users</p></span></div></foreignObject></g></g><g id="flowchart-Email-15" class="node default"><path d="M542.6 448h184.938v54H542.6z" class="basic label-container"/><g class="label" transform="translate(572.6 463)"><rect/><foreignObject width="124.938" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Email Notification</p></span></div></foreignObject></g></g><g id="flowchart-PM-17" class="node default"><path d="M777.537 448h174.625v54H777.537z" class="basic label-container"/><g class="label" transform="translate(807.537 463)"><rect/><foreignObject width="114.625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Private Message</p></span></div></foreignObject></g></g></g></g></svg>
</p>

<span class="iconify" data-icon="mdi:github"></span> Source: 
<code><a href="https://github.com/xoopscube/legacy/blob/7f33bc98/html/kernel/notification.php#L28-L686" target="_blank">/html/kernel/notification.php#L28-L686</a></code>



## Module Template

Modules can define templates for consistent presentation:

```php
$modversion['templates'][1]['file'] = 'user_userinfo.html';
$modversion['templates'][1]['description'] = 'Display a user information in userinfo.php';
```



## Module Permissions 

User Group Access to Module 

The Module System interacts with the Group Permission system to control access to modules:

<p align="center">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="module-permission" width="100%" aria-roledescription="flowchart-v2" class="xcl-diagram flowchart" style="font-family:sans-serif;font-size:16px;fill:#fff;max-width:616.4937744140625px" viewBox="0 0 616.494 606"><style>#module-permission .edge-thickness-normal{stroke-width:1px}#module-permission .edge-pattern-solid{stroke-dasharray:0}#module-permission .marker{fill:#999;stroke:#999}#module-permission .marker.cross{stroke:#999}#module-permission .label,#module-permission svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica}#module-permission svg{font-size:16px}#module-permission p{margin:0}#module-permission .label{color:#fff}#module-permission span{fill:#fff;color:#fff}#module-permission .node circle,#module-permission .node path,#module-permission .node rect{fill:#212745;stroke:#face74;stroke-width:1px}#module-permission .node .label{text-align:center}#module-permission .flowchart-link{stroke:#999;fill:none}#module-permission .edgeLabel p{background-color:#212745!important;text-align:center}#module-permission .edgeLabel rect{opacity:.5;background-color:#212745;fill:#face74}#module-permission .labelBkg{background-color:rgba(255,255,255,.5)}#module-permission :root{--mermaid-font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif}</style><marker id="module-permission_flowchart-v2-pointEnd" class="marker flowchart-v2" markerHeight="8" markerUnits="userSpaceOnUse" markerWidth="8" orient="auto" refX="5" refY="5" viewBox="0 0 10 10"><path stroke-dasharray="1 0" d="m0 0 10 5-10 5z" class="arrowMarkerPath"/></marker><marker id="module-permission_flowchart-v2-pointStart" class="marker flowchart-v2" markerHeight="8" markerUnits="userSpaceOnUse" markerWidth="8" orient="auto" refX="4.5" refY="5" viewBox="0 0 10 10"><path stroke-dasharray="1 0" d="m0 5 10 5V0z" class="arrowMarkerPath"/></marker><marker id="module-permission_flowchart-v2-circleEnd" class="marker flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="11" refY="5" viewBox="0 0 10 10"><circle cx="5" cy="5" r="5" stroke-dasharray="1 0" class="arrowMarkerPath"/></marker><marker id="module-permission_flowchart-v2-circleStart" class="marker flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="-1" refY="5" viewBox="0 0 10 10"><circle cx="5" cy="5" r="5" stroke-dasharray="1 0" class="arrowMarkerPath"/></marker><marker id="module-permission_flowchart-v2-crossEnd" class="marker cross flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="12" refY="5.2" viewBox="0 0 11 11"><use xlink:href="#reuse-0" stroke-dasharray="1 0" stroke-width="2" class="arrowMarkerPath"/></marker><marker id="module-permission_flowchart-v2-crossStart" class="marker cross flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="-1" refY="5.2" viewBox="0 0 11 11"><use xlink:href="#reuse-0" stroke-dasharray="1 0" stroke-width="2" class="arrowMarkerPath"/></marker><g class="root"><g class="edgePaths"><path id="L_Module_ModulePermissions_0" marker-end="url(#module-permission_flowchart-v2-pointEnd)" d="M107.169 318v6.167c0 6.166 0 18.5 9.212 30.477s27.638 23.6 36.85 29.411l9.213 5.811" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_ModulePermissions_ReadAccess_0" marker-end="url(#module-permission_flowchart-v2-pointEnd)" d="m163.723 446-10.257 6.167c-10.257 6.166-30.771 18.5-41.028 30.166S102.181 505 102.181 510.5v5.5" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_ModulePermissions_AdminAccess_0" marker-end="url(#module-permission_flowchart-v2-pointEnd)" d="m273.313 446 14.773 6.167c14.772 6.166 44.318 18.5 59.091 30.166S361.95 505 361.95 510.5v5.5" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_User_Group_0" marker-end="url(#module-permission_flowchart-v2-pointEnd)" d="M102.181 62v70" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_Group_GroupPermissions_0" marker-end="url(#module-permission_flowchart-v2-pointEnd)" d="M102.181 190v6.167c0 6.166 0 18.5 19.876 30.641 19.875 12.141 59.626 24.091 79.501 30.066l19.875 5.974" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_GroupPermissions_ModulePermissions_0" marker-end="url(#module-permission_flowchart-v2-pointEnd)" d="M315.081 318v6.167c0 6.166 0 18.5-9.685 30.489s-29.057 23.637-38.742 29.46l-9.686 5.823" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_ModuleHandler_GroupPermissions_0" marker-end="url(#module-permission_flowchart-v2-pointEnd)" d="M315.081 190v70" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_XoopsUser_GroupPermissions_0" marker-end="url(#module-permission_flowchart-v2-pointEnd)" d="M540.444 190v6.167c0 6.166 0 18.5-21.074 30.651-21.073 12.151-63.219 24.12-84.293 30.105l-21.073 5.984" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/></g><g class="edgeLabels"><g class="edgeLabel"><foreignObject width="23.988" height="24" class="label" transform="translate(95.175 343)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>has</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="92.013" height="24" class="label" transform="translate(56.175 471)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>module_read</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="104.8" height="24" class="label" transform="translate(309.55 471)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>module_admin</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="75.475" height="24" class="label" transform="translate(64.444 87)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>belongs to</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="23.988" height="24" class="label" transform="translate(90.188 215)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>has</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="61.862" height="24" class="label" transform="translate(284.15 343)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>assigned</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="46.95" height="24" class="label" transform="translate(291.606 215)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>checks</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="120.4" height="24" class="label" transform="translate(480.244 215)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>method: isAdmin</p></span></div></foreignObject></g></g><g class="nodes"><g id="flowchart-Module-0" class="node default"><path d="M49.938 264h114.463v54H49.938z" class="basic label-container"/><g class="label" transform="translate(79.938 279)"><rect/><foreignObject width="54.463" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Module</p></span></div></foreignObject></g></g><g id="flowchart-ModulePermissions-1" class="node default"><path d="M107.893 392h201.475v54H107.893z" class="basic label-container"/><g class="label" transform="translate(137.894 407)"><rect/><foreignObject width="141.475" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Module Permissions</p></span></div></foreignObject></g></g><g id="flowchart-ReadAccess-3" class="node default"><path d="M8 520h188.363v78H8z" class="basic label-container"/><g class="label" transform="translate(38 535)"><rect/><foreignObject width="128.363" height="48"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Read Access<br/>(can view module)</p></span></div></foreignObject></g></g><g id="flowchart-AdminAccess-5" class="node default"><path d="M246.362 520h231.175v78H246.362z" class="basic label-container"/><g class="label" transform="translate(276.363 535)"><rect/><foreignObject width="171.175" height="48"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Admin Access<br/>(can administer module)</p></span></div></foreignObject></g></g><g id="flowchart-User-6" class="node default"><path d="M56.325 8h91.712v54H56.325z" class="basic label-container"/><g class="label" transform="translate(86.325 23)"><rect/><foreignObject width="31.712" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>User</p></span></div></foreignObject></g></g><g id="flowchart-Group-7" class="node default"><path d="M46.594 136h111.175v54H46.594z" class="basic label-container"/><g class="label" transform="translate(76.594 151)"><rect/><foreignObject width="51.175" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Groups</p></span></div></foreignObject></g></g><g id="flowchart-GroupPermissions-9" class="node default"><path d="M219.387 264h191.387v54H219.387z" class="basic label-container"/><g class="label" transform="translate(249.388 279)"><rect/><foreignObject width="131.387" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Group Permissions</p></span></div></foreignObject></g></g><g id="flowchart-ModuleHandler-12" class="node default"><path d="M207.768 136h214.625v54H207.768z" class="basic label-container"/><g class="label" transform="translate(237.769 151)"><rect/><foreignObject width="154.625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>XoopsModuleHandler</p></span></div></foreignObject></g></g><g id="flowchart-XoopsUser-14" class="node default"><path d="M472.394 136h136.1v54h-136.1z" class="basic label-container"/><g class="label" transform="translate(502.394 151)"><rect/><foreignObject width="76.1" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>XoopsUser</p></span></div></foreignObject></g></g></g></g></svg>
</p>


<span class="iconify" data-icon="mdi:github"></span> Sources: 
<code><a href="https://github.com/xoopscube/legacy/blob/7f33bc98/html/kernel/groupperm.php#L29-L686" target="_blank">cubecore_init.php</a></code>
<code><a href="https://github.com/xoopscube/legacy/blob/7f33bc98/html/kernel/user.php#L214-L226" target="_blank">Legacy_RenderSystem.class.php</a></code>



## Module Installation Process

When a module is installed, it goes through a series of steps handled by the Module System

<img src="../_media/xcl-legacy-module-install-process.svg" />

<span class="iconify" data-icon="mdi:github"></span> Sources: 
<code><a href="https://github.com/xoopscube/legacy/blob/7f33bc98/html/modules/message/admin/class/myInstaller.class.php#L18-L91" target="_blank">/html/modules/message/admin/class/myInstaller.class.php#L18-L91</a></code>
<code><a href="https://github.com/xoopscube/legacy/blob/7f33bc98/html/modules/legacy/xoops_version.php#L24-L26" target="_blank">/html/modules/legacy/xoops_version.php#L24-L26</a></code>



## Module Update Process

When a module needs updating, the system follows this process:

<p align="center">
<svg xmlns="http://www.w3.org/2000/svg" id="module-update" width="100%" fill="#fff" aria-roledescription="flowchart-v2" class="xcl-diagram flowchart" font-family="sans-serif" font-size="16" style="max-width:485.75px" viewBox="0 0 485.75 1530.85"><style>#module-update .edge-thickness-normal{stroke-width:1px}#module-update .edge-pattern-solid{stroke-dasharray:0}#module-update .marker{fill:#999;stroke:#999}#module-update svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px}#module-update p{margin:0}#module-update .label{font-family:sans-serif;color:#fff}#module-update span{fill:#fff;color:#fff}#module-update .node circle,#module-update .node path,#module-update .node rect{fill:#212745;stroke:#face74;stroke-width:1px}#module-update .node .label{text-align:center}#module-update .flowchart-link{stroke:#999;fill:none}#module-update .edgeLabel p{background-color:#212745;text-align:center}#module-update .edgeLabel rect{opacity:.5;background-color:#fff;fill:#fff}#module-update .labelBkg{background-color:rgba(255,255,255,.5)}#module-update :root{--mermaid-font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif}</style><marker id="module-update_flowchart-v2-pointEnd" class="marker flowchart-v2" markerHeight="8" markerUnits="userSpaceOnUse" markerWidth="8" orient="auto" refX="5" refY="5" viewBox="0 0 10 10"><path stroke-dasharray="1 0" d="m0 0 10 5-10 5z" class="arrowMarkerPath"/></marker><marker id="module-update_flowchart-v2-pointStart" class="marker flowchart-v2" markerHeight="8" markerUnits="userSpaceOnUse" markerWidth="8" orient="auto" refX="4.5" refY="5" viewBox="0 0 10 10"><path stroke-dasharray="1 0" d="m0 5 10 5V0z" class="arrowMarkerPath"/></marker><marker id="module-update_flowchart-v2-circleEnd" class="marker flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="11" refY="5" viewBox="0 0 10 10"><circle cx="5" cy="5" r="5" stroke-dasharray="1 0" class="arrowMarkerPath"/></marker><marker id="module-update_flowchart-v2-circleStart" class="marker flowchart-v2" markerHeight="11" markerUnits="userSpaceOnUse" markerWidth="11" orient="auto" refX="-1" refY="5" viewBox="0 0 10 10"><circle cx="5" cy="5" r="5" stroke-dasharray="1 0" class="arrowMarkerPath"/></marker><g class="root"><g class="edgePaths"><path id="L_Admin_CheckUpdates_0" marker-end="url(#module-update_flowchart-v2-pointEnd)" d="M224.469 86v70" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_CheckUpdates_NeedsUpdate_0" marker-end="url(#module-update_flowchart-v2-pointEnd)" d="M224.469 238v6.167c0 6.166 0 18.5.074 30.25.075 11.75.224 22.917.298 28.5l.074 5.583" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_NeedsUpdate_Done_0" marker-end="url(#module-update_flowchart-v2-pointEnd)" d="m180.819 447.2-13.272 13.442c-13.272 13.442-39.816 40.325-53.088 59.266-13.271 18.942-13.271 29.942-13.271 35.442v5.5" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_NeedsUpdate_ShowUpdate_0" marker-end="url(#module-update_flowchart-v2-pointEnd)" d="m269.118 447.2 13.106 13.442c13.105 13.442 39.315 40.325 52.421 59.266 13.105 18.942 13.105 29.942 13.105 35.442v5.5" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_ShowUpdate_ExecuteUpdate_0" marker-end="url(#module-update_flowchart-v2-pointEnd)" d="M347.75 618.85v70" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_ExecuteUpdate_LoadManifest_0" marker-end="url(#module-update_flowchart-v2-pointEnd)" d="M347.75 746.85v46" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_LoadManifest_UpdateDB_0" marker-end="url(#module-update_flowchart-v2-pointEnd)" d="M347.75 874.85v46" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_UpdateDB_UpdateTemplates_0" marker-end="url(#module-update_flowchart-v2-pointEnd)" d="M347.75 978.85v46" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_UpdateTemplates_UpdateBlocks_0" marker-end="url(#module-update_flowchart-v2-pointEnd)" d="M347.75 1082.85v46" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_UpdateBlocks_UpdatePreferences_0" marker-end="url(#module-update_flowchart-v2-pointEnd)" d="M347.75 1186.85v46" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_UpdatePreferences_UpdateModule_0" marker-end="url(#module-update_flowchart-v2-pointEnd)" d="M347.75 1290.85v46" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/><path id="L_UpdateModule_Complete_0" marker-end="url(#module-update_flowchart-v2-pointEnd)" d="M347.75 1418.85v46" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link"/></g><g class="edgeLabels"><g class="edgeLabel"><foreignObject width="123.138" height="24" class="label" transform="translate(162.9 111)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>Views module list</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="126.4" height="24" class="label" transform="translate(161.269 263)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>Compare versions</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="21.35" height="24" class="label" transform="translate(90.513 515.85)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="22.6" height="24" class="label" transform="translate(336.45 515.85)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="144.25" height="24" class="label" transform="translate(275.625 643.85)"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"><p>Admin clicks Update</p></span></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g><g class="edgeLabel"><foreignObject width="0" height="0" class="label"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="edgeLabel"/></div></foreignObject></g></g><g class="nodes"><g id="flowchart-Admin-0" class="node default"><path d="M113.063 8h222.813v78H113.063z" class="basic label-container"/><g class="label" transform="translate(143.063 23)"><rect/><foreignObject width="162.813" height="48"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Admin accesses<br/>Module Administration</p></span></div></foreignObject></g></g><g id="flowchart-CheckUpdates-1" class="node default"><path d="M135.925 160h177.088v78H135.925z" class="basic label-container"/><g class="label" transform="translate(165.925 175)"><rect/><foreignObject width="117.088" height="48"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>System checks<br/>version numbers</p></span></div></foreignObject></g></g><g id="flowchart-NeedsUpdate-3" class="node default"><path fill="#212745" stroke="#face74" d="m224.469 490.85 89.425-89.425L224.469 312l-89.425 89.425z" class="label-container"/><g class="label" transform="translate(174.044 377.425)"><rect/><foreignObject width="100.85" height="48"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Module needs<br/>update?</p></span></div></foreignObject></g></g><g id="flowchart-Done-5" class="node default"><path d="M8 564.85h186.375v54H8z" class="basic label-container"/><g class="label" transform="translate(38 579.85)"><rect/><foreignObject width="126.375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>No action needed</p></span></div></foreignObject></g></g><g id="flowchart-ShowUpdate-7" class="node default"><path d="M244.375 564.85h206.75v54h-206.75z" class="basic label-container"/><g class="label" transform="translate(274.375 579.85)"><rect/><foreignObject width="146.75" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Show Update button</p></span></div></foreignObject></g></g><g id="flowchart-ExecuteUpdate-9" class="node default"><path d="M233.85 692.85h227.8v54h-227.8z" class="basic label-container"/><g class="label" transform="translate(263.85 707.85)"><rect/><foreignObject width="167.8" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Execute Update Process</p></span></div></foreignObject></g></g><g id="flowchart-LoadManifest-11" class="node default"><path d="M217.75 796.85h260v78h-260z" class="basic label-container"/><g class="label" transform="translate(247.75 811.85)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" display="table" style="white-space:break-spaces;line-height:1.5;max-width:200px;text-align:center;width:200px"><span class="nodeLabel"><p>Load new xoops_version.php</p></span></div></foreignObject></g></g><g id="flowchart-UpdateDB-13" class="node default"><path d="M224.262 924.85h246.975v54H224.262z" class="basic label-container"/><g class="label" transform="translate(254.262 939.85)"><rect/><foreignObject width="186.975" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Update database structure</p></span></div></foreignObject></g></g><g id="flowchart-UpdateTemplates-15" class="node default"><path d="M254.894 1028.85h185.713v54H254.894z" class="basic label-container"/><g class="label" transform="translate(284.894 1043.85)"><rect/><foreignObject width="125.713" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Update templates</p></span></div></foreignObject></g></g><g id="flowchart-UpdateBlocks-17" class="node default"><path d="M267.287 1132.85h160.925v54H267.287z" class="basic label-container"/><g class="label" transform="translate(297.287 1147.85)"><rect/><foreignObject width="100.925" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Update blocks</p></span></div></foreignObject></g></g><g id="flowchart-UpdatePreferences-19" class="node default"><path d="M248.562 1236.85h198.375v54H248.562z" class="basic label-container"/><g class="label" transform="translate(278.562 1251.85)"><rect/><foreignObject width="138.375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Update preferences</p></span></div></foreignObject></g></g><g id="flowchart-UpdateModule-21" class="node default"><path d="M237.713 1340.85h220.075v78H237.713z" class="basic label-container"/><g class="label" transform="translate(267.713 1355.85)"><rect/><foreignObject width="160.075" height="48"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Update module record<br/>in database</p></span></div></foreignObject></g></g><g id="flowchart-Complete-23" class="node default"><path d="M255.431 1468.85h184.638v54H255.431z" class="basic label-container"/><g class="label" transform="translate(285.431 1483.85)"><rect/><foreignObject width="124.638" height="24"><div xmlns="http://www.w3.org/1999/xhtml" display="table-cell" style="white-space:nowrap;line-height:1.5;max-width:200px;text-align:center"><span class="nodeLabel"><p>Update Complete</p></span></div></foreignObject></g></g></g></g></svg>
</p>

<span class="iconify" data-icon="mdi:github"></span> Sources: 
<code><a href="https://github.com/xoopscube/legacy/blob/7f33bc98/html/kernel/module.php#L289-L294" target="_blank">/html/kernel/module.php#L289-L294</a></code>
<code><a href="https://github.com/xoopscube/legacy/blob/7f33bc98/html/modules/legacy/xoops_version.php#L24-L26" target="_blank">/html/modules/legacy/xoops_version.php#L24-L26</a></code>


<hr>


### Key Takeaways

The Module System is a fundamental part of the XOOPSCube Legacy framework, providing a flexible and extensible architecture for adding new functionality. Through a structured approach to module definition, installation, and management, XOOPSCube enables developers to create cohesive components that integrate with the core system while maintaining separation of concerns.

Understanding the Module System is essential for both using XOOPSCube effectively and developing extensions that integrate properly with the framework.
